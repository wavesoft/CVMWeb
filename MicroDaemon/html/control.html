<!DOCTYPE html>
<html lang="en">
	<head>
		<title>CernVM WebAPI :: Socket Test</title>
		<style type="text/css">
		body {
			font-family: Georgia, Tahoma, Arial;
			font-size: 14px;
		}

		pre#log {
			width: 100%;
		}
		</style>
		<script type="text/javascript" src="js/WebAPI.js"></script>
		<script type="text/javascript" src="js/EventDispatcher.js"></script>
		<script type="text/javascript" src="js/Socket.js"></script>
		<script type="text/javascript">

		var ws = new WebAPI.Socket();
		function initialize() {
			ws.connect();
		}
		function stop() {
			ws.send("stop");
		}
		function start() {
			ws.send("requestSession", {
				"vmcp": "http://localhost/sign.php"
			}, function(ans) {
				console.log(ans);
			});
		}

		</script>
	</head>
	<body>
		<h1>CernVM WebAPI</h1>
		<pre id="log">
		</pre>
		<input type="button" value="Start" />
		<input type="button" value="Stop" onclick="stop()" />
		<input type="button" value="Open session" onclick="start()" />
		<script type="text/javascript">initialize();</script>
	</body>
</html>